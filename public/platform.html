<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargar oda</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/agate.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js" integrity="sha512-ZFn1l/cmJ8LLHH5TWJhNnV1PCQiNqBD+TFitO1ECtYJuQvn8zhhrzvQyYXLrb5cR7gzmLTkgka8DDR7fIAO9MQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        pre,
        code {
            white-space: pre-wrap;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">Cargar oda</h1>
        <div class="bg-black text-white p-2"><span class="opacity-60">&lt;iframe="</span><strong>https://et.odas.win/#U1L1</strong><span class="opacity-60">" &gt;&lt;/iframe&gt;</span></div>
        <iframe id="childFrame" src="https://et.odas.win/#U1L1" class="w-full h-[600px] mb-8 border border-gray-300"></iframe>

        <h2 class="text-2xl font-semibold mb-2">Recibir datos:</h2>
        <div class="grid grid-cols-2 gap-8">
            <div>
                <div>Datos:</div>   
                <pre><code class="language-json" id="fullData"></code></pre>
            </div>
            <div>
                <div>Javascript:</div>
                <pre><code  class="language-javascript" id="codeSnippet">
window.addEventListener('message', ({ data }) => {
    if (!data || data.datatype !== 'student') { return; }
    const { oda_id, oda_info, user_time, user_data } = data;
});
                </code></pre>
            </div>
        </div>
    </div>
    
    <script>
        hljs.highlightAll();
        window.addEventListener('message', ({ data }) => {
            if (!data || data.datatype !== 'student') { return; }
            const { oda_id, oda_info, user_time, user_data } = event.data;
            document.getElementById('fullData').textContent = JSON.stringify(event.data, null, 2);
        });
    </script>

    
</body>
</html>